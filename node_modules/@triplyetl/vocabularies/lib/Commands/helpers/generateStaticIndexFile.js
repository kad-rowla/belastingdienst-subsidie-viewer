import path from 'path';
import chalk from 'chalk';
import { writeFileSync, existsSync } from 'fs';
import { createRequire } from 'node:module';
const require = createRequire(import.meta.url);
export default function generateStaticIndexFile(jobs) {
    const vocabs = [];
    for (const job of jobs) {
        const sourceFile = path.join(process.cwd(), 'static', 'Vocabularies', 'Generated', `${job.prefix}.json`);
        if (!existsSync(sourceFile)) {
            console.error(chalk.red(`Warning: missing expected sourcefile 'static/Vocabularies/Generated/${job.prefix}.json'`));
            continue;
        }
        const vocab = require(sourceFile);
        delete vocab.items;
        vocabs.push(vocab);
    }
    writeFileSync(path.join(process.cwd(), 'static', 'Vocabularies', 'index.json'), JSON.stringify(vocabs, null, 2), 'utf-8');
}
//# sourceMappingURL=generateStaticIndexFile.js.map