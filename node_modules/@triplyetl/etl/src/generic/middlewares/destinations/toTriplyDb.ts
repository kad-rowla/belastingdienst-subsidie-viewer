import { Destination, Middleware, toRdf } from "../../index.js";
import { DatasetMetadata, Options } from "../../locations/destinations/rdf.js";

export type ToTriplyDbOptions = {
  dataset: string | DatasetMetadata;
  account?: string;
  opts?: Partial<Options>;
};

export default function (args: ToTriplyDbOptions): Middleware {
  const destination =
    args.account === undefined
      ? Destination.TriplyDb.rdf(args.dataset, args.opts)
      : Destination.TriplyDb.rdf(args.account, args.dataset, args.opts);
  return toRdf(destination);
}
