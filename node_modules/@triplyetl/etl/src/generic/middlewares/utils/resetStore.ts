import { addMwCallSiteToError } from "../../../utils/index.js";
import { Middleware } from "../../index.js";

// TODO @DocumentationTeam: add TS doc comment here
export default function resetStore(): Middleware {
  return addMwCallSiteToError(
    async function _resetStore(ctx, next) {
      return next(ctx.record, ctx.app.getNewStore());
    },
    { sourceFuncName: "_resetStore" },
  );
}
