import { CommandModule } from "yargs";
import chalk from "chalk";
import { Etl } from "../../../generic/index.js";

const cmd: CommandModule = {
  command: "print-token",
  describe: "Print the currently set TriplyDB API Token, if any",
  handler: async (_argv) => {
    if (Etl.token) {
      console.info(chalk.green(Etl.token));
      process.exit(0);
    } else {
      console.info(chalk.yellow("No token found, you might want to create one with the 'create-token' command."));
      process.exit(2);
    }
  },
};
export default cmd;
