import { addMwCallSiteToError } from "../utils/index.js";
import { getErr } from "../utils/Error.js";
import { quadsToString } from "../utils/index.js";
// TODO @DocumentationTeam: add TS doc comment here
export default function logQuads(opts) {
    return addMwCallSiteToError(async function _logRecord(ctx, next) {
        const writerOptions = typeof opts === "string"
            ? { format: opts }
            : {
                prefixes: opts?.prefixes,
                iris: opts?.iris,
                format: opts?.format,
                end: opts?.end,
            };
        const extraOptions = typeof opts === "string" ? {} : { pattern: opts?.pattern, end: opts?.end };
        console.info(quadsToString(ctx.store.getQuads(extraOptions.pattern ?? {}), writerOptions));
        if (extraOptions.end)
            throw getErr().setStoppedAtHead();
        return next();
    }, { sourceFuncName: "_logQuads" });
}
//# sourceMappingURL=logQuads.js.map