import { addMwCallSiteToError } from "../../../../../utils/index.js";
import { add } from "../add.js";
/**
 * This is a custom transformation that uses the full Etl Context in order
 * to create a new value that is added to the Etl Record.
 *
 * The Etl Context includes the full Etl Record.
 *
 * This is the only transformation that has access to the full Etl
 * Context.  Because of this wide access, this is an operation whose
 * complexity is relatively difficult to predict.
 *
 * Use of this transformation is considered somewhat atypical.
 *
 * @param args.function A function that takes the full Etl Context as input
 *                      and returns a value.
 * @param args.key      A new key where result of the transformation is stored.
 */
export default function (args) {
    return addMwCallSiteToError(add({
        value: args.function,
        key: args.key,
    }), { sourceFuncName: "_context" });
}
//# sourceMappingURL=context.js.map