import chai from "chai";
import chaiAsPromised from "chai-as-promised";
import { addValue } from "../index.js";
import { str } from "../../../index.js";
import { getEtlForTesting } from "../../../__tests__/getEtlForTesting.js";
import substring from "../substring.js";
chai.use(chaiAsPromised);
const assert = chai.assert;
const theFox = "The quick brown fox jumps over the lazy dog";
const start = 3;
describe("substring ", () => {
    it("should work on static strings", async () => getEtlForTesting([
        substring({ key: "substring", content: str(theFox), start }),
        async (ctx, next) => {
            assert.equal(ctx.getString("substring"), theFox.substring(start).trim());
            return next();
        },
    ]).run());
    it("should work on key", async () => getEtlForTesting([
        addValue({ key: "theFox", content: str(theFox) }),
        substring({ key: "substring", content: "theFox", start }),
        async (ctx, next) => {
            assert.equal(ctx.getString("substring"), theFox.substring(start).trim());
            return next();
        },
    ]).run());
});
//# sourceMappingURL=substring.test.js.map