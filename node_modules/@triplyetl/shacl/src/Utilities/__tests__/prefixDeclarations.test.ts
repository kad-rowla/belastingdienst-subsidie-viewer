import { assert } from 'chai'
import getDatasetFromResource from '../getDatasetFromResource.js'
import prefixDeclarations from '../prefixDeclarations.js'
import { getFactory } from '@triplydb/data-factory'
import { sdo } from '@triplyetl/vocabularies'

describe('Prefix Declarations for SPARQL Queries', () => {
  it('should correctly load prefixes from dataset', async () => {
    const dataset = getDatasetFromResource('prefix-declarations.ttl', 'static', 'resources')
    const prefixes = await prefixDeclarations(dataset)
    const factory = getFactory()
    assert.isTrue(factory.namedNode('http://example.com/ns#Test').equals(prefixes.ex.concat('Test')))
    assert.isTrue(sdo.Brewery.equals(prefixes.sdo.concat('Brewery')))
  })
})
