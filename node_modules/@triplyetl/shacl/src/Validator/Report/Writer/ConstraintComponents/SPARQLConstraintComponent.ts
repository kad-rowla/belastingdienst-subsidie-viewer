import ConstraintComponent from '../ConstraintComponent.js'

export default class SPARQLConstraintComponent extends ConstraintComponent {
  public async toString (): Promise<string> {
    return await Promise.resolve(this.format(
      'The node %o has a predicate %o%s that does not comply to the SPARQL Constraint %o defined in your shape %o.',
      this.result.focusNode,
      this.result.resultPath ?? '[unknown sh:resultPath]',
      this.valuesToString(),
      this.result.sourceConstraint ?? '[unknown sh:sourceConstraint]',
      this.result.sourceShape ?? '[unknown SHACL SourceShape]'
    ))
  }
}
