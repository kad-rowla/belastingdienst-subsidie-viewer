prefix ex: <http://example.org/>
prefix sh:  <http://www.w3.org/ns/shacl#>
prefix xsd: <http://www.w3.org/2001/XMLSchema#>

ex:shape
  a sh:NodeShape;
  sh:targetSubjectsOf ex:width;
  sh:rule ex:rule .

ex:
	sh:declare [
		sh:prefix "ex" ;
		sh:namespace ex: ;
	] .

ex:rule a sh:SPARQLRule ;
  sh:prefixes ex: ;
  sh:construct
'''
construct {
  $this ex:area ?area.
} where {
  $this
    ex:width ?width;
    ex:height ?height .
  bind(?width * ?height as ?area)
}
''' .

ex:rectangle a ex:Rectangle; ex:width 7; ex:height 8 .
ex:cube a ex:Cube; ex:cubeWidth 7; ex:height 8; ex:depth 9 .

# Inferred triple should be this:
# ex:rectangle ex:area 56 .
